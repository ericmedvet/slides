install.packages("tidyverse")
iris
names(iris)
require(tidyverse)
install.packages("httr")
install.packages("httr")
install.packages("tidyverse")
install.packages("tidyverse")
require(tidyverse)
d = iris
d %>% pivot_longer()
d %>% pivot_longer(cols=!species)
names(d)
d %>% pivot_longer(cols=!Species)
d %>% pivot_longer(cols=!Species) %>% ggplot(aes(x=name,y=value,color=Species)) + geom_boxplot()
d %>% group_by(Species) %>% summarise_all(mean)
iris %>% group_by(Species) %>% summarise_all(mean)
iris %>% pivot_longer(cols=!Species) %>% ggplot(aes(x=name,y=value,color=Species)) + geom_boxplot()
install.packages("GGally")
require(GGally)
ggpairs(iris)
ggpairs(iris, columns = 1:4, aes(color = Species, alpha = 0.5),
upper = list(continuous = "points"))
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line()
require(tidyverse)
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line()
d
d$FPR-d$NFR
d$FPR-d$FNR
d$tau
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 18.6)
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 0.186)
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 0.186)+geom_vline(xintercept=0.65,linetype="dashed")
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 0.186)+geom_vline(xintercept=0.63,linetype="dashed")
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 0.186)+geom_vline(xintercept=0.63,linetype="dashed")
x=seq(0,1,by=0.1)
d=as.data.frame(cbind(tau=x,FPR=0.5/(2+1*(x+abs(rnorm(11,sd=0.05)))),FNR=0.5/(1.75+3*(1-x-abs(rnorm(11,sd=0.05))))))
d$FNR[1]=0
d %>% pivot_longer(c(FPR,FNR)) %>% ggplot(aes(x=tau,y=value,color=name)) + geom_line() + geom_hline(yintercept = 0.186)+geom_vline(xintercept=0.65,linetype="dashed")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line()
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line() + xlim(c(0,1))
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line() + xlim(c(0,1))+ylim(c(0,1))
d
d$FPR[0] = 1
d
d$FPR[1] = 1
d$FNR[11] = 1
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color=red) + xlim(c(0,1))+ylim(c(0,1))
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + xlim(c(0,1))+ylim(c(0,1))
d
d$FPR[11]=0
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + xlim(c(0,1))+ylim(c(0,1))
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slop=1, linetype="dashed")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slope=1, linetype="dashed") + geom_abline(intercept=1, slope=-1, linetype="solid")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + geom_area() + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slope=1, linetype="dashed") + geom_abline(intercept=1, slope=-1, linetype="solid")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + geom_area(color="red",alpha=0.5) + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slope=1, linetype="dashed") + geom_abline(intercept=1, slope=-1, linetype="solid")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + geom_area(fill="red",alpha=0.5) + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slope=1, linetype="dashed") + geom_abline(intercept=1, slope=-1, linetype="solid")
d %>% ggplot(aes(x=FPR,y=1-FNR)) + geom_line(color="red") + geom_area(fill="red",alpha=0.25) + xlim(c(0,1))+ylim(c(0,1)) + geom_abline(intercept=0, slope=1, linetype="dashed") + geom_abline(intercept=1, slope=-1, linetype="solid")
setwd("~/Documenti/slides/intro-ml-er-2223/data")
d = read.csv2("carousel.txt")
d = read.table("carousel.txt")
require(tidyverse)
skimmr
summary(d)
d = read.table("carousel.txt", header = T)
summary(d)
d %>% ggplot(aes(age,height,color=label))+geom_point()
d$y="neg"
d$y[d$label="pos"
d$y[d$label]="pos"
d %>% ggplot(aes(age,height,color=y))+geom_point()
mypalette=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_brewer(palette=mypalette)
palette(c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_fill_manual(c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_fill_manual(c("#FF0000", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_d(c("#FF0000", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
cty_by_var(class)
withr::with_options(list(ggplot2.discrete.color=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")), d %>% ggplot(aes(age,height,color=y))+geom_point())
withr::with_options(list(ggplot2.discrete.fill=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")), d %>% ggplot(aes(age,height,color=y))+geom_point())
withr::with_options(list(ggplot2.discrete.fill=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")), d %>% ggplot(aes(age,height,fill=y))+geom_point())
withr::with_options(list(ggplot2.discrete=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")), d %>% ggplot(aes(age,height,color=y))+geom_point())
withr::with_options(list(ggplot2.discrete.colour=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000")), d %>% ggplot(aes(age,height,color=y))+geom_point())
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#FF0000", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",x = c(10,20),y=c(60,180),fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10xmax=20,ymin=60,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,185))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=25,ymin=0,ymax=200,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=25,ymin=1,ymax=200,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=25,ymin=50,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=50,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=80,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=180,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=200,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_area(aes(y=3),fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_tile(aes(fill=4),fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_rect(aes(xmin=5,xmax=10,ymin=100,ymax=150),fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_rect(aes(xmin=5,xmax=10,ymin=100,ymax=150,fill="#DC267F",alpha=0.2))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_rect(aes(xmin=5,xmax=10,ymin=100,ymax=150,inherit.aes=F,fill="#DC267F",alpha=0.2))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_rect(aes(xmin=5,xmax=10,ymin=100,ymax=-Inf,fill="#DC267F",alpha=0.2))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=200,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("pointrange",xmin=10,xmax=20,ymin=60,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("pointrange",xmin=10,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=60,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=50,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+geom_rect(xmin=10,xmax=20,ymin=50,ymax=120,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=20,ymin=50,ymax=Inf,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+annotate("rect",xmin=10,xmax=20,ymin=50,ymax=Inf,fill="#DC267F",alpha=0.2)+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+annotate("rect",xmin=10,xmax=20,ymin=50,ymax=Inf,fill="red",alpha=0.2)+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+annotate("rect",xmin=10,xmax=20,ymin=-Inf,ymax=Inf,fill="red",alpha=0.2)+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=Inf,fill="#648FFF",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=120,fill="#648FFF",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=120,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=Inf,fill="#648FFF",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=Inf,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=Inf,fill="#648FFF",alpha=0.2)
d %>% ggplot(aes(age,height,color=y))+geom_point()+xlim(c(1,20))+ylim(c(55,190))+scale_color_manual(values=c("#648FFF", "#DC267F", "#FE6100", "#785EF0", "#FFB000"))+annotate("rect",xmin=10,xmax=+Inf,ymin=-Inf,ymax=120,fill="#648FFF",alpha=0.2)+annotate("rect",xmin=10,xmax=+Inf,ymin=120,ymax=Inf,fill="#DC267F",alpha=0.2)+annotate("rect",xmin=-Inf,xmax=10,ymin=-Inf,ymax=Inf,fill="#648FFF",alpha=0.2)
